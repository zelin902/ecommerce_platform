{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"product-detail\"\n};\nconst _hoisted_2 = {\n  class: \"detail-header\"\n};\nconst _hoisted_3 = {\n  class: \"price-info\"\n};\nconst _hoisted_4 = {\n  class: \"left-thumb\"\n};\nconst _hoisted_5 = [\"src\"];\nconst _hoisted_6 = {\n  class: \"right-info\"\n};\nconst _hoisted_7 = {\n  class: \"product-title\"\n};\nconst _hoisted_8 = {\n  class: \"price\"\n};\nconst _hoisted_9 = {\n  class: \"services\"\n};\nconst _hoisted_10 = {\n  class: \"stock\"\n};\nconst _hoisted_11 = {\n  class: \"cart-bar\"\n};\nconst _hoisted_12 = {\n  class: \"counter\"\n};\nconst _hoisted_13 = {\n  class: \"description\"\n};\nconst _hoisted_14 = {\n  class: \"specs\"\n};\nconst _hoisted_15 = {\n  class: \"reviews\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_tag = _resolveComponent(\"el-tag\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" 顶部返回 \"), _createElementVNode(\"header\", _hoisted_2, [_createElementVNode(\"span\", {\n    onClick: _cache[0] || (_cache[0] = $event => _ctx.$router.back()),\n    class: \"back-btn\"\n  }, \"← 返回首页\")]), _createElementVNode(\"section\", _hoisted_3, [_createCommentVNode(\" 左侧小图 \"), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"img\", {\n    src: $setup.firstImage,\n    alt: \"商品主图\"\n  }, null, 8 /* PROPS */, _hoisted_5)]), _createCommentVNode(\" 右侧信息 \"), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"h1\", _hoisted_7, _toDisplayString($setup.product.name), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_8, \"¥\" + _toDisplayString($setup.product.price), 1 /* TEXT */), _createElementVNode(\"ul\", _hoisted_9, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.services, s => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: s\n    }, _toDisplayString(s), 1 /* TEXT */);\n  }), 128 /* KEYED_FRAGMENT */))]), _createElementVNode(\"p\", _hoisted_10, \"余货量：\" + _toDisplayString($setup.product.stock) + \"+\", 1 /* TEXT */), _createVNode(_component_el_tag, {\n    type: \"primary\",\n    size: \"small\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(_toDisplayString($setup.product.category), 1 /* TEXT */)]),\n    _: 1 /* STABLE */\n  }), _createCommentVNode(\" 新增：数量选择器 + 加入购物车 \"), _createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"button\", {\n    onClick: _cache[1] || (_cache[1] = $event => $setup.count > 1 ? $setup.count-- : 1)\n  }, \"-\"), _createElementVNode(\"span\", null, _toDisplayString($setup.count), 1 /* TEXT */), _createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = $event => $setup.count++)\n  }, \"+\")]), _createElementVNode(\"button\", {\n    class: \"add-cart-btn\",\n    onClick: $setup.addCart\n  }, \"加入购物车\")])])]), _createCommentVNode(\" 商品描述 \"), _createElementVNode(\"section\", _hoisted_13, [_cache[3] || (_cache[3] = _createElementVNode(\"h2\", null, \"商品描述\", -1 /* CACHED */)), _createElementVNode(\"p\", null, _toDisplayString($setup.product.description), 1 /* TEXT */)]), _createCommentVNode(\" 动态规格 \"), _createElementVNode(\"section\", _hoisted_14, [_cache[4] || (_cache[4] = _createElementVNode(\"h2\", null, \"商品详情\", -1 /* CACHED */)), _createElementVNode(\"table\", null, [_createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.product.specs, (value, key) => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: key\n    }, [_createElementVNode(\"td\", null, _toDisplayString(key), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(value), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))])])]), _createCommentVNode(\" 客户评价（示例） \"), _createElementVNode(\"section\", _hoisted_15, [_cache[5] || (_cache[5] = _createElementVNode(\"h2\", null, \"客户评价\", -1 /* CACHED */)), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.reviews, r => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      class: \"review-card\",\n      key: r.user\n    }, [_createElementVNode(\"strong\", null, _toDisplayString(r.user), 1 /* TEXT */), _createElementVNode(\"p\", null, _toDisplayString(r.comment), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createCommentVNode","_createElementVNode","_hoisted_2","onClick","_cache","$event","_ctx","$router","back","_hoisted_3","_hoisted_4","src","$setup","firstImage","alt","_hoisted_6","_hoisted_7","_toDisplayString","product","name","_hoisted_8","price","_hoisted_9","_Fragment","_renderList","services","s","key","_hoisted_10","stock","_createVNode","_component_el_tag","type","size","category","_hoisted_11","_hoisted_12","count","addCart","_hoisted_13","description","_hoisted_14","specs","value","_hoisted_15","reviews","r","user","comment"],"sources":["D:\\Desktop\\ecomplat\\src\\views\\ProductDetail.vue"],"sourcesContent":["<template>\r\n    <div class=\"product-detail\">\r\n      <!-- 顶部返回 -->\r\n      <header class=\"detail-header\">\r\n        <span @click=\"$router.back()\" class=\"back-btn\">← 返回首页</span>\r\n      </header>\r\n  \r\n    <section class=\"price-info\">\r\n    <!-- 左侧小图 -->\r\n        <div class=\"left-thumb\">\r\n            <img :src=\"firstImage\" alt=\"商品主图\" />\r\n        </div>\r\n\r\n        <!-- 右侧信息 -->\r\n        <div class=\"right-info\">\r\n            <h1 class=\"product-title\">{{ product.name }}</h1>\r\n            <p class=\"price\">¥{{ product.price }}</p>\r\n\r\n            <ul class=\"services\">\r\n                <li v-for=\"s in services\" :key=\"s\">{{ s }}</li>\r\n            </ul>\r\n\r\n            <p class=\"stock\">余货量：{{ product.stock }}+</p>\r\n            <el-tag type=\"primary\" size=\"small\">{{ product.category }}</el-tag>\r\n              <!-- 新增：数量选择器 + 加入购物车 -->\r\n            <div class=\"cart-bar\">\r\n                <div class=\"counter\">\r\n                <button @click=\"count > 1 ? count-- : 1\">-</button>\r\n                <span>{{ count }}</span>\r\n                <button @click=\"count++\">+</button>\r\n                </div>\r\n                <button class=\"add-cart-btn\" @click=\"addCart\">加入购物车</button>\r\n            </div>\r\n\r\n        </div>\r\n    </section>\r\n  \r\n      <!-- 商品描述 -->\r\n      <section class=\"description\">\r\n        <h2>商品描述</h2>\r\n        <p>{{ product.description }}</p>\r\n      </section>\r\n  \r\n      <!-- 动态规格 -->\r\n      <section class=\"specs\">\r\n        <h2>商品详情</h2>\r\n        <table>\r\n          <tbody>\r\n            <tr v-for=\"(value, key) in product.specs\" :key=\"key\">\r\n              <td>{{ key }}</td>\r\n              <td>{{ value }}</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </section>\r\n  \r\n      <!-- 客户评价（示例） -->\r\n      <section class=\"reviews\">\r\n        <h2>客户评价</h2>\r\n        <div class=\"review-card\" v-for=\"r in reviews\" :key=\"r.user\">\r\n          <strong>{{ r.user }}</strong>\r\n          <p>{{ r.comment }}</p>\r\n        </div>\r\n      </section>\r\n  \r\n    </div>\r\n  </template>\r\n  \r\n  <script setup>\r\n  import { ref, computed, onMounted } from 'vue'\r\n  import { useRoute } from 'vue-router'\r\n  \r\n  const route = useRoute()\r\n  const product = ref({})\r\n  const cartCount = ref(0);\r\n  const reviews = ref([\r\n    { user: '用户A', comment: '口感醇厚，余味悠长。' }\r\n  ])\r\n  const services = ref(['包邮', '名酒鉴真', '品质溯源', '免费上门退换'])\r\n  \r\n  // 商品主图\r\n  const firstImage = computed(() =>\r\n    Array.isArray(product.value.images) && product.value.images.length\r\n      ? product.value.images[0]\r\n      : ''\r\n  )\r\n  const count = ref(1)\r\n\r\n    const addCart = () => {\r\n    // TODO: 替换为你的真实购物车接口\r\n    console.log(`加入购物车：${product.value.name} × ${count.value}`)\r\n    }\r\n  // 拉取商品详情（含 specs）\r\n  onMounted(async () => {\r\n    try {\r\n        const id = String(route.params.id)\r\n      const res = await fetch(`http://localhost:8081/api/product/${id}`)\r\n      const text = await res.text()\r\n      if (!text) throw new Error('空响应')\r\n      product.value = JSON.parse(text)\r\n    } catch (e) {\r\n      console.error('获取商品失败', e)\r\n    }\r\n  })\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .detail-header { padding: 12px; background: #fff; }\r\n  .back-btn { cursor: pointer; font-size: 16px; color: #1890ff; }\r\n  .price-info {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 16px;\r\n  padding: 12px;\r\n  background: #fff;\r\n}\r\n.left-thumb img {\r\n  width: 500px;\r\n  height: 500px;\r\n  object-fit: cover;\r\n  border-radius: 4px;\r\n  max-width: 100%;   /* 小屏时自适应 */\r\n}\r\n.right-info {\r\n  flex: 1;\r\n}\r\n  .price { font-size: 24px; color: #f56c6c; margin: 8px 0; }\r\n/* 服务标签水平排布 */\r\n.services {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 6px;\r\n  list-style: none;\r\n  padding: 0;\r\n  margin: 8px 0;\r\n}\r\n.services li {\r\n  background: #f1f1f1;\r\n  padding: 4px 8px;\r\n  border-radius: 4px;\r\n  font-size: 12px;\r\n}\r\n\r\n/* 其余内容保持居中 */\r\n.description,\r\n.specs,\r\n.reviews {\r\n\r\n  /* ✅ 保留原来的 padding、背景、间距即可 */\r\n  padding: 12px;\r\n  margin-top: 12px;\r\n  background: #fff;\r\n}\r\n  .specs table { width: 100%; border-collapse: collapse; }\r\n  .specs td { padding: 6px 0; border-bottom: 1px solid #eee; }\r\n  .detail-footer { position: fixed; bottom: 0; width: 100%; background: #fff; padding: 12px; box-shadow: 0 -2px 6px rgba(0,0,0,.1); }\r\n  .cart-bar {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n  margin: 12px 0;\r\n}\r\n\r\n.counter {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  font-size: 14px;\r\n}\r\n.counter button {\r\n  width: 24px;\r\n  height: 24px;\r\n  border: 1px solid #dcdcdc;\r\n  background: #fff;\r\n  cursor: pointer;\r\n  border-radius: 2px;\r\n}\r\n.counter span {\r\n  min-width: 24px;\r\n  text-align: center;\r\n}\r\n\r\n.add-cart-btn {\r\n  background: #ff5000;\r\n  color: #fff;\r\n  border: none;\r\n  padding: 6px 12px;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n}\r\n  </style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}